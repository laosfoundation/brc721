services:
  bitcoind-testnet:
    image: bitcoin/bitcoin:latest
    container_name: bitcoind-testnet
    command:
      [
        "bitcoind",
        "-regtest=1",
        "-server=1",
        "-txindex=1",
        "-rpcbind=0.0.0.0",
        "-rpcallowip=0.0.0.0/0",
        "-rpcuser=dev",
        "-rpcpassword=dev",
        "-fallbackfee=0.0002",
      ]
    ports:
      - "127.0.0.1:18443:18443"
    volumes:
      - bitcoind-testnet-data:/home/bitcoin/.bitcoin
    restart: unless-stopped

volumes:
  bitcoind-testnet-data:
